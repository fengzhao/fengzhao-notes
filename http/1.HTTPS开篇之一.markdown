# 为什么需要HTTPS？

**安全问题的本质**

安全问题的本质是**“信任”**问题。

 一切的安全方案设计的基础都是建立在信任的关系上的。

我们必须相信一些东西，必须有一些最基本的假设，安全方案才能得以建立，如果我们否定一切，安全方案就会如无源之水，无根之木，无法设计，也无法完成。



**信息安全三要素**

安全三要素是安全的基本组成元素，分别是机密性（Confidentiality）、完整性（Integrit）、可用性（Availability）。

​     

- **机密性：**要求保护数据内容不被泄漏，加密是实现机密性要求的常用手段。

- **完整性：**要求保护的数据内容是完整的、没有被篡改的。常见的保证一致性的技术手段是数字签名。
- **可用性：**要求保护的资源是“随需而得”。



HTTP1.1 有以下安全性问题：

1. 使用明文(不加密)进行通信，内容可能会被窃听；（即信息传输可能会被窃听）
2. 不验证通信方的身份，通信方的身份有可能遭遇伪装；（中间人攻击）
3. 无法证明报文的完整性，报文有可能遭篡改。

由于 HTTP 设计之初没有考虑到这几点，所以基于 HTTP 的这些应用都会存在安全问题。



## 一、数据没有加密



基于 TCP/IP 的网络，网络各处都会存在被监听的风险。

而且如果用 HTTP 协议进行通信，HTTP 本身没有加密功能，所以也无法做到对通信整体(使用 HTTP 协议通信的请求和响应的内容)进行加密。即，HTTP 报文使用明文(指未经过加密的报文)方式发送。



在互联网各个环节都可能被监听。就算是加密通信，也能被监听到通信内容，只不过监听者看到的是密文。

要解决 HTTP 上面 3 个大的安全问题，第一步就是要先进行加密通信。于是在传输层增加了一层 SSL（Secure Sockets Layer 安全套接层）/ TLS (Transport Layer Security 安全层传输协议) 来加密 HTTP 的通信内容。



HTTPS (HTTP Secure) 并不是新协议，而是 HTTP 先和 SSL（Secure Sockets Layer 安全套接层）/ TLS (Transport Layer Security 安全层传输协议) 通信，再由 SSL/TLS 和 TCP 通信。也就是说 HTTPS 使用了隧道进行通信。



为什么不直接对 HTTP 报文进行加密，这样就不需要 SSL/TLS 这一层了。



如果直接对 HTTP 报文进行加密也可以做到加密通信，但是虽然解决了第一条，但是后面 2 条就不好解决了。







# SSL 证书