## 用户管理

Linux是一个多任务、多用户的操作系统，每个用户和进程都需要对应一个用户和用户组，用户名相当于姓名。

用户UID相当于身份证号，用户组GID相当于公司的工号。用户与用户组的关系一对一、多对一、一对多、多对多。

Linux 系统中的 root 账号通常用于系统的维护和管理，对系统所有资源具有访问权限。

因为权限过大，甚至可以删除系统文件致使系统瘫痪，所以不推荐直接使用 root ，而是使用用户自己创建的账号管理系统



标准用户有时候必须得到类似 root 账号的权限才能做一些事情，所以在Linux系统中使用 sudo 可以为了标准用户预设root身份。

```shell
 sudo 命令 　　　# 用预设的root身份来执行命令
  # 标准用户使用sudo 时，必须先输入密码，之后5分钟内有效，超过5分钟需要再次输入密码
```



```shell
#　UID（用户ID）: 0（超级用户），1~499(系统用户)，500~65535(普通用户)
# 

# /etc/passwd：用户文件。这个文件用来保存用户信息，这个文件每行格式:
 
# 用户名:密码:用户UID:用户组UID:用户描述信息:用户默认家目录:用户默认shell  
 
# 当默认shell为/usr/sbin/nologin时，表示禁止用户登录操作系统
#　root:x:0:0:root:/root:/bin/bash  
# daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
```



```shell
用户配置文件         /etc/passwd
用户密码配置文件      /etc/shadow
用户组配置文件        /etc/group
用户组密码配置文件    /etc/gshadow

# 指定新用户的配置，包括家目录路径，SKEL路径，默认用户组，用户默认shell
新用户默认配置文件   /etc/default/useradd

# 当创建新用户时，这个目录的文件会被复制到新用户的家目录中，
新用户环境变量目录   /etc/skel/


/etc/shadow：用户密码文件
由于/etc/passwd 可以被所有用户访问，所以用户密码真正是被加密保存在/etc/shadow 中。
这个文件每行格式：
用户名:
加密后的密码:
上次修改密码后过去的天数:
多少天后才能更改密码:
多少天后必须更改密码:
密码过期多少天前提醒用户:
密码过期多少天后禁用用户:
用户被禁用的日期:
预留字段
```



**添加用户的命令是 useradd ，这个命令的配置文件是/etc/default/useradd ，使用 /usr/sbin/useradd -D 命令来查看默认配置。**



### 用户管理命令

```shell
# 创建用户
useradd
# 删除用户
userdel
# 修改用户信息
usermod
# 查看用户UID和GID
id
```







