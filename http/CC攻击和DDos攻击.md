DDOS攻击也叫做分布式拒绝服务攻击，其英文全称为Distributed Denial of Service attack。

DDOS攻击的主要目的是使目标电脑的网络或系统资源耗尽，使服务暂时中断或停止，导致其对目标客户不可用。

用在好处可以为厂商及政府的服务器做合法的压力测试，用在坏处则可以对厂商进行敲诈勒索。

本文主要讲解在线DDOS那么以下两点，流量获取方式和DDOS分成方式。









## 应用层攻击



此类攻击有时称为[第 7 层](https://www.cloudflare.com/zh-cn/learning/ddos/what-is-layer-7) DDoS 攻击（指 OSI 模型第 7 层），其目标是耗尽目标资源。

攻击目标是生成网页并传输网页响应 [HTTP](https://www.cloudflare.com/zh-cn/learning/ddos/glossary/hypertext-transfer-protocol-http) 请求的服务器层。

在客户端执行一项 HTTP 请求的计算成本比较低，但目标服务器做出响应却可能非常昂贵，因为服务器通常必须加载多个文件并运行数据库查询才能创建网页。

第 7 层攻击很难防御，因为难以区分恶意流量和合法流量。



![HTTP 洪水 DDoS Attack](CC攻击和DDos攻击.assets/http-flood-ddos-attack.png)



#### HTTP 洪水

HTTP 洪水攻击类似于同时在大量不同计算机的 Web 浏览器中一次又一次地按下刷新 – 大量 HTTP 请求涌向服务器，导致拒绝服务。

这种类型的攻击有简单的，也有复杂的。

较简单的实现可以使用相同范围的攻击 IP 地址、referrer 和用户代理访问一个 URL。（相当于同一个网段内的 IP 不停的 F5 刷新页面访问网站）

复杂版本可能使用大量攻击性 IP 地址，并使用随机 referrer 和用户代理来针对随机网址。（相当于天猫双11，春运抢票，海量用户并发访问网站）















## SYN 洪水



协议攻击也称为状态耗尽攻击，这类攻击会过度消耗服务器资源和/或[防火墙](https://www.cloudflare.com/zh-cn/learning/security/what-is-a-firewall)和负载平衡器之类的网络设备资源，从而导致服务中断。





此类攻击利用 [TCP 握手](https://www.cloudflare.com/zh-cn/learning/ddos/glossary/tcp-ip)（两台计算机发起网络连接时要经过的一系列通信），通过向目标发送大量带有[伪造](https://www.cloudflare.com/zh-cn/learning/ddos/glossary/ip-spoofing)源 IP 地址的 TCP“初始连接请求”SYN 数据包来实现。

简单说，就是通过

目标计算机响应每个连接请求，然后等待握手中的最后一步，但这一步确永远不会发生，因此在此过程中耗尽目标的资源。



### 常用的 DDos 攻击工具







## 如何防范 DDos 攻击



**若要缓解 DDoS 攻击，关键在于区分攻击流量与正常流量。真正的难点在于区分真实客户流量与攻击流量。**



例如，如果因发布某款产品导致公司网站涌现大批热情客户，那么全面切断流量是错误之举。

如果公司从已知恶意用户处收到的流量突然激增，或许需要尽量缓解攻击。

在现代 Internet 中，DDoS 流量以多种形式出现。流量设计可能有所不同，从非欺骗性单源攻击到复杂的自适应多方位攻击无所不有。



多方位 DDoS 攻击采用多种攻击手段，以期通过不同的方式击垮目标，很可能分散各个层级的缓解工作注意力。

一般而言，攻击越复杂，越难以区分攻击流量与正常流量 - 攻击者的目标是尽可能混入正常流量，从而尽量减弱缓解成效。



如果缓解措施不加选择地丢弃或限制流量，很可能将正常流量与攻击流量一起丢弃，同时攻击还可能进行修改调整以规避缓解措施。

**为克服复杂的破坏手段，采用分层解决方案效果最理想。**





### 速率限制

在高并发场景或者对外提供API的网站，都会





### WAF防火墙





### CDN

CDN 原本诞生其实就是缓存，让网站的一些资源缓存到离用户更近的节点。

目的就是能够更加快速的运转网站加速系统，让网站加速系统的功能性发挥到更加强大。

CDN 一般是由 CDN 厂商管理，一般有强大的带宽，单个的节点承受的能力是很强大的。还能够有效的针对网站进行突发情况流量管理，预防存在流量以及数量增加等相关状况出现。 

但是近几年，网络安全问题日益严峻，在这样的互联网环境下，高防CDN由此诞生了。









### Anycast