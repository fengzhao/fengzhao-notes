



通常HTTP的性能分析是通过浏览器的开发者工具进行查看，但这种方式只能通过图形页面进行查看。

如果想做性能监控或者在命令行下分析，可以通过curl命令来统计各阶段的耗时。



每次 http 请求经过这些过程： 

- 客户端发起请求-->DNS解析-->TCP连接-->TLS握手-->服务器处理-->内容传输-->完成



查看curl 命令的手册，curl命令支持以下阶段的时间统计：

1. time_namelookup : 从请求开始到DNS解析完成的耗时
2. time_connect : 从请求开始到TCP三次握手完成耗时
3. time_appconnect : 从请求开始到TLS握手完成的耗时
4. time_pretransfer : 从请求开始到向服务器发送第一个GET请求开始之前的耗时
5. time_redirect : 重定向时间，包括到内容传输前的重定向的DNS解析、TCP连接、内容传输等时间
6. time_starttransfer : 从请求开始到内容传输前的时间
7. time_total : 从请求开始到完成的总耗时

我们常关注的HTTP性能指标有：

1. DNS请求耗时 ： 域名的NS及本地使用DNS的解析速度
2. TCP建立耗时 ： 服务器网络层面的速度
3. SSL握手耗时 ： 服务器处理HTTPS等协议的速度
4. 服务器处理请求时间 ： 服务器处理HTTP请求的速度
5. TTFB ： 服务器从接收请求到开始到收到第一个字节的耗时
6. 服务器响应耗时 ：服务器响应第一个字节到全部传输完成耗时
7. 请求完成总耗时